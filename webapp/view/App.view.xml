<mvc:View
    controllerName="zgr.combatcalc.controller.App"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
>
    <App id="app">
        <Page title="{i18n>pageTitel}">
            <Panel
                id="idPanelCombatResult"
                expandable="true"
                expanded="true"
                width="auto"
                expand="onPanelCombatResultExpand"
                class="sapUiResponsiveMargin"
            >
                <headerToolbar>
                    <OverflowToolbar
                        active="true"
                        press="onOverflowToolbarCombatResultPress"
                    >
                        <Text text="{i18n>headerToolbarTitle}" />
                        <ToolbarSpacer />
                    </OverflowToolbar>
                </headerToolbar>

                <!-- Combat Result List -->
                <content>
                    <List id="idListCombatResult">
                        <InputListItem>
                            <Text text="{i18n>textAtt} | {i18n>textDef}" />
                        </InputListItem>

                        <!-- Unsaved Wounds -->
                        <InputListItem
                            id="idUnsavedWounds"
                            label="{i18n>unsavedWoundsInflicted}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/unsavedWoundsAttacker}"
                            />
                            <Text
                                renderWhitespace="true"
                                text=" "
                            />
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/unsavedWoundsDefender}"
                            />
                        </InputListItem>

                        <!-- Rank Bonus -->
                        <InputListItem
                            id="idRankBonus"
                            label="{i18n>rankBonus}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/rankBonusAttacker}"
                            />
                            <Text
                                renderWhitespace="true"
                                text=" "
                            />
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/rankBonusDefender}"
                            />
                        </InputListItem>

                        <!-- Standard -->
                        <InputListItem
                            id="idStandard"
                            label="{i18n>standard}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/standardAttacker}"
                            />
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/standardDefender}"
                            />
                        </InputListItem>

                        <!-- Battle Standard -->
                        <InputListItem
                            id="idBattleStandard"
                            label="{i18n>battleStandard}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/battleStandardAttacker}"
                            />
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/battleStandardDefender}"
                            />
                        </InputListItem>

                        <!-- Flank Attack -->
                        <InputListItem
                            id="idFlankAttack"
                            label="{i18n>flankAttack}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/flankAttacker}"
                            />
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/flankDefender}"
                            />
                        </InputListItem>

                        <!-- Rear Attack -->
                        <InputListItem
                            id="idRearAttack"
                            label="{i18n>rearAttack}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/rearAttacker}"
                            />
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/rearDefender}"
                            />
                        </InputListItem>

                        <!-- High Ground -->
                        <InputListItem
                            id="idHighGround"
                            label="{i18n>highGround}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <Switch
                                id="idSwitchHighGroundAttacker"
                                customTextOn="J"
                                customTextOff="N"
                                state="{/highGroundAttacker}"
                                change="onSwitchHighGroundPressed"
                            />
                            <Switch
                                id="idSwitchHighGroundDefender"
                                customTextOn="J"
                                customTextOff="N"
                                state="{/highGroundDefender}"
                                change="onSwitchHighGroundPressed"
                            />
                        </InputListItem>

                        <!-- Close Order with Unit Strengh 10+-->
                        <InputListItem
                            id="idCloseOrder"
                            label="{i18n>closeOrder}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/closeOrderAttacker}"
                            />
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/closeOrderDefender}"
                            />
                        </InputListItem>

                        <!-- Massed Infantry -->
                        <InputListItem
                            id="idMassedInfantry"
                            label="{i18n>massedInfantry}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <Switch
                                id="idSwitchMassedInfantryAttacker"
                                customTextOn="J"
                                customTextOff="N"
                                state="{/massedInfantryAttacker}"
                                change="onSwitchInfantryPressed"
                            />
                            <Switch
                                id="idSwitchMassedInfantryDefender"
                                customTextOn="J"
                                customTextOff="N"
                                state="{/massedInfantryDefender}"
                                change="onSwitchInfantryPressed"
                            />
                        </InputListItem>

                        <!-- Overkill -->
                        <InputListItem
                            id="idOverkill"
                            label="{i18n>overkill}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/overkillAttacker}"
                            />
                            <Text
                                renderWhitespace="true"
                                text=" "
                            />
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/overkillDefender}"
                            />
                        </InputListItem>

                        <!-- Others -->
                        <InputListItem
                            id="idOthers"
                            label="{i18n>others}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/othersAttacker}"
                            />
                            <Text
                                renderWhitespace="true"
                                text=" "
                            />
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/othersDefender}"
                            />
                        </InputListItem>

                        <!-- Button Calc -->
                        <InputListItem
                            id="idCalculateCombatResult"
                            label="{i18n>labelCalcCombatResult}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <Button
                                id="idButtonCalcCombatResult"
                                text="{i18n>buttonCalcCombat}"
                                type="Emphasized"
                                icon="sap-icon://simulate"
                                press="onButtonCalcCombatResultPressed"
                            />
                        </InputListItem>
                    </List>
                </content>
            </Panel>

            <Panel
                id="idPanelBreaktest"
                expandable="true"
                width="auto"
                expand="onPanelBreakTestExpand"
                class="sapUiResponsiveMargin"
            >
                <headerToolbar>
                    <OverflowToolbar
                        active="true"
                        press="onOverflowToolbarBreaktestPress"
                    >
                        <Title text="{i18n>headerToolbarBreaktestTitle}" />
                        <ToolbarSpacer />
                    </OverflowToolbar>
                </headerToolbar>

                <!-- Breaktest List -->
                <content>
                    <List id="idListBreaktest">
                        <InputListItem
                            id="idLeadership"
                            label="{i18n>leadershipLoser}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/leadershipLoser}"
                            />
                        </InputListItem>

                        <!-- Dice Roll -->
                        <InputListItem
                            id="idBreakTest"
                            label="{i18n>breaktestNaturalDiceroll}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/breaktestNaturalDiceroll}"
                            />
                        </InputListItem>

                        <!-- Unbreakable -->
                        <InputListItem
                            id="idUnbreakable"
                            label="{i18n>unbreakable}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/unbreakable}"
                            />
                        </InputListItem>

                        <!-- Stubborn -->
                        <InputListItem
                            id="idStubborn"
                            label="{i18n>stubborn}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/stubborn}"
                            />
                        </InputListItem>

                        <!-- Outnumber -->
                        <InputListItem
                            id="idOutnumber"
                            label="{i18n>outnumber}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/outnumber}"
                            />
                        </InputListItem>

                        <!-- Button Calc -->
                        <InputListItem
                            id="idCalculateBreakTest"
                            label="{i18n>labelCalcBreaktest}"
                            type="Active"
                            press="onListItemPress"
                        >
                            <Button
                                id="idButtonCalcBreakTest"
                                text="{i18n>buttonCalcBreaktest}"
                                type="Emphasized"
                                icon="sap-icon://physical-activity"
                                press="onButtonCalcBreakTestPressed"
                            />
                        </InputListItem>
                    </List>
                </content>
            </Panel>

            <footer>
                <OverflowToolbar>
                    <ObjectStatus
                        id="idStatusCombatResult"
                        visible="false"
                        inverted="true"
                    />
                    <ToolbarSpacer />
                    <ObjectStatus
                        id="idStatusBreakTest"
                        visible="false"
                        inverted="true"
                    />
                    <ToolbarSpacer />
                    <Button
                        text="{i18n>ButtonClear}"
                        type="Emphasized"
                        press="onButtonClearPressed"
                    />
                </OverflowToolbar>
            </footer>
        </Page>
    </App>
</mvc:View>
