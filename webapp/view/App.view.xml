<mvc:View
    controllerName="zgr.combatcalc.controller.App"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
>
    <App id="app">
        <Page title="{i18n>pageTitel}">
            <Panel id="idPanelCombatResult"  expandable="true" expanded="true" width="auto" 
                expand="onPanelCombatResultExpand">
                <headerToolbar>
                    <OverflowToolbar
                        active="true"
                        press="onOverflowToolbarCombatResultPress"
                    >
                        <Text text="{i18n>headerToolbarTitle}"/>
                        <ToolbarSpacer />
                        
                    </OverflowToolbar>
                </headerToolbar>

                <content>
                    <List id="idListCombatResult">
                        <InputListItem>
                            <Text
                                text="{i18n>textAtt} | {i18n>textDef}"
                            />
                        </InputListItem>

                        <!-- Unsaved Wounds -->
                        <InputListItem
                            label="{i18n>unsavedWoundsInflicted}"
                        >
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/unsavedWoundsAttacker}"
                            />
                            <Text
                                renderWhitespace="true"
                                text=" "
                            />
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/unsavedWoundsDefender}"
                            />
                        </InputListItem>

                        <!-- Rank Bonus -->
                        <InputListItem
                            label="{i18n>rankBonus}"
                        >
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/rankBonusAttacker}"
                            />
                            <Text
                                renderWhitespace="true"
                                text=" "
                            />
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/rankBonusDefender}"
                            />
                        </InputListItem>

                        <!-- Standard -->
                        <InputListItem
                            label="{i18n>standard}"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/standardAttacker}"
                            />
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/standardDefender}"
                            />
                        </InputListItem>

                        <!-- Battle Standard -->
                        <InputListItem
                            label="{i18n>battleStandard}"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/battleStandardAttacker}"
                            />
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/battleStandardDefender}"
                            />
                        </InputListItem>

                        <!-- Flank Attack -->
                        <InputListItem
                            label="{i18n>flankAttack}"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/flankAttacker}"
                            />
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/flankDefender}"
                            />
                        </InputListItem>

                        <!-- Rear Attack -->
                        <InputListItem
                            label="{i18n>rearAttack}"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/rearAttacker}"
                            />
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/rearDefender}"
                            />
                        </InputListItem>

                        <!-- High Ground -->
                        <InputListItem
                            label="{i18n>highGround}"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/highGroundAttacker}"
                            />
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/highGroundDefender}"
                            />
                        </InputListItem>

                        <!-- Close Order with Unit Strengh 10+-->
                        <InputListItem
                            label="{i18n>closeOrder}"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/closeOrderAttacker}"
                            />
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/closeOrderDefender}"
                            />
                        </InputListItem>

                        <!-- Massed Infantry -->
                        <InputListItem
                            label="{i18n>massedInfantry}"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/massedInfantryAttacker}"
                            />
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/massedInfantryDefender}"
                            />
                        </InputListItem>

                        <!-- Overkill -->
                        <InputListItem
                            label="{i18n>overkill}"
                        >
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/overkillAttacker}"
                            />
                            <Text
                                renderWhitespace="true"
                                text=" "
                            />
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/overkillDefender}"
                            />
                        </InputListItem>

                        <!-- Other -->
                        <InputListItem
                            label="{i18n>others}"
                        >
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/othersAttacker}"
                            />
                            <Text
                                renderWhitespace="true"
                                text=" "
                            />
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/othersDefender}"
                            />
                        </InputListItem>

                        <!-- Button Calc -->
                        <InputListItem label="{i18n>labelCalcCombatResult}">
                           <Button
                                id="idButtonCalcCombatResult"
                                text="{i18n>ButtonCalcCombat}"
                                type="Emphasized"
                                icon="sap-icon://simulate"
                                press="onButtonCalcCombatResultPressed"
                            />
                        </InputListItem>
                    </List>

                    <Input
                        id="idInputCombatResult"
                        visible="false"
                        valueState="None"
                        width="100%"
                    /> 
                </content>
            </Panel>

            <Panel id="idPanelBreaktest" expandable="true" width="auto"
                expand="onPanelBreakTestExpand">
                <headerToolbar>
                    <OverflowToolbar
                        active="true"
                        press="onOverflowToolbarBreaktestPress"
                    >
                        <Title text="{i18n>headerToolbarBreaktestTitle}" />
                        <ToolbarSpacer />
                    </OverflowToolbar>
                </headerToolbar>
                <content>
                    <!-- Breaktest List -->
                    <List id="idListBreaktest">
                        <InputListItem
                            label="{i18n>leadershipLoser}"
                        >
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/leadershipLoser}"
                            />
                        </InputListItem>

                        <!-- Dice Roll -->
                        <InputListItem
                            label="{i18n>breaktestNaturalDiceroll}"
                        >
                            <StepInput
                                min="0"
                                width="120px"
                                value="{/breaktestNaturalDiceroll}"
                            />
                        </InputListItem>

                        <!-- Unbreakable -->
                        <InputListItem
                            label="{i18n>unbreakable}"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/unbreakable}"
                            />
                        </InputListItem>

                        <!-- Stubborn -->
                        <InputListItem
                            label="{i18n>stubborn}"
                        >
                            <Switch
                                customTextOn="J"
                                customTextOff="N"
                                state="{/stubborn}"
                            />
                        </InputListItem>

                        <!-- Button Calc -->
                        <InputListItem
                            label="{i18n>labelCalcBreaktest}"
                        >
                            <Button
                                id="idButtonCalcBreakTest"
                                text="{i18n>buttonCalcBreaktest}"
                                type="Emphasized"
                                icon="sap-icon://physical-activity"
                                press="onButtonCalcBreakTestPressed"
                            />
                        </InputListItem>
                    </List>

                    <Input
                        id="idInputBreakTest"
                        visible="false"
                        valueState="None"
                        width="100%"
                    />
                </content>
            </Panel>
            <footer>
                <OverflowToolbar>
                    <ObjectStatus
                        id="idStatusCombatResult"
                        visible="false"
                        inverted="true"
                    />
                    <ToolbarSpacer />
                    <ObjectStatus
                        id="idStatusBreakTest"
                        visible="false"
                        inverted="true"
                    />
                    <ToolbarSpacer />
                    <Button
                        text="{i18n>ButtonClear}"
                        type="Emphasized"
                        press="onButtonClearPressed"
                    />
                </OverflowToolbar>
            </footer>
        </Page>
    </App>
</mvc:View>
